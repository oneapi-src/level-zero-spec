
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SPIR-V Programming Guide &#8212; Level Zero Specification  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=84ace793992934648b4de8eed757e5a2" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx-book-theme.9d8b4a8b9bb19db25eeaddc40d639ba2.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Extensions" href="EXT.html" />
    <link rel="prev" title="Sysman Programming Guide" href="../sysman/PROG.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<div class="col-12 col-md-3 bd-sidebar site-navigation " id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Level Zero Specification  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="INTRO.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="PROG.html">
   Core Programming Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools/PROG.html">
   Tools Programming Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sysman/PROG.html">
   Sysman Programming Guide
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   SPIR-V Programming Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="EXT.html">
   Extensions
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api.html">
   API Documentation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="api.html">
     Core API
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tools/api.html">
     Tools API
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../sysman/api.html">
     Sysman API
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../versions.html">
   Versions
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<!-- This is an invisible pixel that we watch to see if we've scrolled. -->
<div class="sbt-scroll-pixel-helper"></div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            <div class="topbar-left">
                
                <label class="nav-toggle-button" for="__navigation">
                    <div class="visually-hidden">Toggle navigation</div>
                    <i class="fas fa-bars"></i>
                </label>
                
            </div>
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/core/SPIRV.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-properties">
   Common Properties
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-spir-v-versions">
     Supported SPIR-V Versions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extended-instruction-sets">
     Extended Instruction Sets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#source-language-encoding">
     Source Language Encoding
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#numerical-type-formats">
     Numerical Type Formats
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-types">
     Supported Types
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#basic-scalar-and-vector-types">
       Basic Scalar and Vector Types
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#image-related-data-types">
       Image-Related Data Types
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kernels">
     Kernels
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kernel-return-types">
     Kernel Return Types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kernel-arguments">
     Kernel Arguments
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#required-capabilities">
   Required Capabilities
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spir-v-1-0">
     SPIR-V 1.0
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spir-v-1-1">
     SPIR-V 1.1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spir-v-1-2">
     SPIR-V 1.2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validation-rules">
   Validation Rules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extensions">
   Extensions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intel-subgroups">
     Intel Subgroups
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#notes-and-restrictions">
       Notes and Restrictions
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#floating-point-atomics">
     Floating-Point Atomics
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atomic-load-store-and-exchange">
       Atomic Load, Store, and Exchange
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atomic-add-and-subtract">
       Atomic Add and Subtract
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atomic-min-and-max">
       Atomic Min and Max
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extended-subgroups">
     Extended Subgroups
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#extended-types">
       Extended Types
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#vote">
       Vote
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ballot">
       Ballot
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#non-uniform-arithmetic">
       Non-Uniform Arithmetic
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#shuffles">
       Shuffles
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#relative-shuffles">
       Relative Shuffles
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clustered-reductions">
       Clustered Reductions
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#linkonce-odr">
     Linkonce ODR
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bfloat16-conversions">
     Bfloat16 Conversions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#numerical-compliance">
   Numerical Compliance
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#image-addressing-and-filtering">
   Image Addressing and Filtering
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>SPIR-V Programming Guide</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-properties">
   Common Properties
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-spir-v-versions">
     Supported SPIR-V Versions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extended-instruction-sets">
     Extended Instruction Sets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#source-language-encoding">
     Source Language Encoding
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#numerical-type-formats">
     Numerical Type Formats
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-types">
     Supported Types
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#basic-scalar-and-vector-types">
       Basic Scalar and Vector Types
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#image-related-data-types">
       Image-Related Data Types
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kernels">
     Kernels
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kernel-return-types">
     Kernel Return Types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kernel-arguments">
     Kernel Arguments
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#required-capabilities">
   Required Capabilities
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spir-v-1-0">
     SPIR-V 1.0
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spir-v-1-1">
     SPIR-V 1.1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spir-v-1-2">
     SPIR-V 1.2
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validation-rules">
   Validation Rules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extensions">
   Extensions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intel-subgroups">
     Intel Subgroups
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#notes-and-restrictions">
       Notes and Restrictions
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#floating-point-atomics">
     Floating-Point Atomics
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atomic-load-store-and-exchange">
       Atomic Load, Store, and Exchange
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atomic-add-and-subtract">
       Atomic Add and Subtract
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atomic-min-and-max">
       Atomic Min and Max
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extended-subgroups">
     Extended Subgroups
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#extended-types">
       Extended Types
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#vote">
       Vote
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ballot">
       Ballot
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#non-uniform-arithmetic">
       Non-Uniform Arithmetic
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#shuffles">
       Shuffles
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#relative-shuffles">
       Relative Shuffles
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clustered-reductions">
       Clustered Reductions
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#linkonce-odr">
     Linkonce ODR
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bfloat16-conversions">
     Bfloat16 Conversions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#numerical-compliance">
   Numerical Compliance
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#image-addressing-and-filtering">
   Image Addressing and Filtering
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="spir-v-programming-guide">
<h1>SPIR-V Programming Guide<a class="headerlink" href="#spir-v-programming-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.khronos.org/registry/spir-v/">SPIR-V</a> is an open,
royalty-free, standard intermediate language capable of representing
parallel compute kernels. SPIR-V is adaptable to multiple execution
environments: a SPIR-V module is consumed by an execution environment,
as specified by a client API. This document describes the SPIR-V
execution environment for the ‘oneAPI’ Level-Zero API. The SPIR-V
execution environment describes required support for some SPIR-V
capabilities, additional semantics for some SPIR-V instructions, and
additional validation rules that a SPIR-V binary module must adhere to
in order to be considered valid.</p>
<p>This document is written for compiler developers who are generating
SPIR-V modules intended to be consumed by the ‘oneAPI’ Level-Zero API,
for implementors of the ‘oneAPI’ Level-Zero API, and for software
developers who are using SPIR-V modules with the ‘oneAPI’ Level-Zero
API.</p>
</div>
<div class="section" id="common-properties">
<h2>Common Properties<a class="headerlink" href="#common-properties" title="Permalink to this headline">¶</a></h2>
<p>This section describes common properties of all ‘oneAPI’ Level-Zero
environments that consume SPIR-V modules.</p>
<p>A SPIR-V module is interpreted as a series of 32-bit words in host
endianness, with literal strings packed as described in the SPIR-V
specification. The first few words of the SPIR-V module must be a magic
number and a SPIR-V version number, as described in the SPIR-V
specification.</p>
<div class="section" id="supported-spir-v-versions">
<h3>Supported SPIR-V Versions<a class="headerlink" href="#supported-spir-v-versions" title="Permalink to this headline">¶</a></h3>
<p>The maximum SPIR-V version supported by a device is described by <a class="reference internal" href="api.html#ze-device-module-properties-t"><span class="std std-ref">ze_device_module_properties_t</span></a>.spirvVersionSupported.</p>
</div>
<div class="section" id="extended-instruction-sets">
<h3>Extended Instruction Sets<a class="headerlink" href="#extended-instruction-sets" title="Permalink to this headline">¶</a></h3>
<p>The <strong>OpenCL.std</strong> <a class="reference external" href="https://www.khronos.org/registry/spir-v/">extended instruction set for
OpenCL</a> is supported.</p>
</div>
<div class="section" id="source-language-encoding">
<h3>Source Language Encoding<a class="headerlink" href="#source-language-encoding" title="Permalink to this headline">¶</a></h3>
<p>The source language version is purely informational and has no semantic
meaning.</p>
</div>
<div class="section" id="numerical-type-formats">
<h3>Numerical Type Formats<a class="headerlink" href="#numerical-type-formats" title="Permalink to this headline">¶</a></h3>
<p>Floating-point types are represented and stored using
<a class="reference external" href="http://dx.doi.org/10.1109/IEEESTD.2008.4610935">IEEE-754</a> semantics.
All integer formats are represented and stored using 2’s-complement
format.</p>
</div>
<div class="section" id="supported-types">
<h3>Supported Types<a class="headerlink" href="#supported-types" title="Permalink to this headline">¶</a></h3>
<p>The following types are supported. Note that some types may require
additional capabilities, and may not be supported by all environments.</p>
<div class="section" id="basic-scalar-and-vector-types">
<h4>Basic Scalar and Vector Types<a class="headerlink" href="#basic-scalar-and-vector-types" title="Permalink to this headline">¶</a></h4>
<p><strong>OpTypeVoid</strong> is supported.</p>
<p>The following scalar types are supported:</p>
<ul class="simple">
<li><p><strong>OpTypeBool</strong></p></li>
<li><p><strong>OpTypeInt</strong>, with <em>Width</em> equal to 8, 16, 32, or 64, and with
<em>Signedness</em> equal to zero, indicating no signedness semantics.</p></li>
<li><p><strong>OpTypeFloat</strong>, with <em>Width</em> equal to 16, 32, or 64.</p></li>
</ul>
<p><strong>OpTypeVector</strong> vector types are supported. The vector <em>Component Type</em>
may be any of the scalar types described above. Supported vector
<em>Component Counts</em> are 2, 3, 4, 8, or 16.</p>
<p><strong>OpTypeArray</strong> array types are supported, <strong>OpTypeStruct</strong> struct types
are supported, <strong>OpTypeFunction</strong> functions are supported, and
<strong>OpTypePointer</strong> pointer types are supported.</p>
</div>
<div class="section" id="image-related-data-types">
<h4>Image-Related Data Types<a class="headerlink" href="#image-related-data-types" title="Permalink to this headline">¶</a></h4>
<p>The following table describes the supported <strong>OpTypeImage</strong> image types:</p>
<table class="table">
<colgroup>
<col style="width: 20%" />
<col style="width: 14%" />
<col style="width: 18%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><em>Dim</em></p></th>
<th class="head"><p><em>Depth</em></p></th>
<th class="head"><p><em>Arrayed</em></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>1D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>A 1D image.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>1D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>A 1D image array.</p></td>
</tr>
<tr class="row-even"><td><p><strong>2D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>A 2D image.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>2D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>A 2D depth image.</p></td>
</tr>
<tr class="row-even"><td><p><strong>2D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>A 2D image array.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>2D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>A 2D depth image array.</p></td>
</tr>
<tr class="row-even"><td><p><strong>3D</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>A 3D image.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Buffer</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>A 1D buffer image.</p></td>
</tr>
</tbody>
</table>
<p><strong>OpTypeSampler</strong> sampler typed are supported.</p>
</div>
</div>
<div class="section" id="kernels">
<h3>Kernels<a class="headerlink" href="#kernels" title="Permalink to this headline">¶</a></h3>
<p>An <strong>OpFunction</strong> in a SPIR-V module that is identified with
<strong>OpEntryPoint</strong> defines a kernel that may be launched using host API
interfaces.</p>
</div>
<div class="section" id="kernel-return-types">
<h3>Kernel Return Types<a class="headerlink" href="#kernel-return-types" title="Permalink to this headline">¶</a></h3>
<p>The <em>Result Type</em> for an <strong>OpFunction</strong> identified with <strong>OpEntryPoint</strong>
must be <strong>OpTypeVoid</strong>.</p>
</div>
<div class="section" id="kernel-arguments">
<h3>Kernel Arguments<a class="headerlink" href="#kernel-arguments" title="Permalink to this headline">¶</a></h3>
<p>An <strong>OpFunctionParameter</strong> for an <strong>OpFunction</strong> that is identified with
<strong>OpEntryPoint</strong> defines a kernel argument. Allowed types for kernel
arguments are:</p>
<ul class="simple">
<li><p><strong>OpTypeInt</strong></p></li>
<li><p><strong>OpTypeFloat</strong></p></li>
<li><p><strong>OpTypeStruct</strong></p></li>
<li><p><strong>OpTypeVector</strong></p></li>
<li><p><strong>OpTypePointer</strong></p></li>
<li><p><strong>OpTypeSampler</strong></p></li>
<li><p><strong>OpTypeImage</strong></p></li>
</ul>
<p>For <strong>OpTypeInt</strong> parameters, supported <em>Widths</em> are 8, 16, 32, and 64,
and must have no signedness semantics.</p>
<p>For <strong>OpTypeFloat</strong> parameters, supported <em>Widths</em> are 16 and 32.</p>
<p>For <strong>OpTypeStruct</strong> parameters, supported structure <em>Member Types</em> are:</p>
<ul class="simple">
<li><p><strong>OpTypeInt</strong></p></li>
<li><p><strong>OpTypeFloat</strong></p></li>
<li><p><strong>OpTypeStruct</strong></p></li>
<li><p><strong>OpTypeVector</strong></p></li>
<li><p><strong>OpTypePointer</strong></p></li>
</ul>
<p>For <strong>OpTypePointer</strong> parameters, supported <em>Storage Classes</em> are:</p>
<ul class="simple">
<li><p><strong>CrossWorkgroup</strong></p></li>
<li><p><strong>Workgroup</strong></p></li>
<li><p><strong>UniformConstant</strong></p></li>
</ul>
<p>Environments that support extensions or optional features may allow
additional types in an entry point’s parameter list.</p>
</div>
</div>
<div class="section" id="required-capabilities">
<h2>Required Capabilities<a class="headerlink" href="#required-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="spir-v-1-0">
<h3>SPIR-V 1.0<a class="headerlink" href="#spir-v-1-0" title="Permalink to this headline">¶</a></h3>
<p>An environment that supports SPIR-V 1.0 must support SPIR-V 1.0 modules
that declare the following capabilities:</p>
<ul class="simple">
<li><p><strong>Addresses</strong></p></li>
<li><p><strong>Float16Buffer</strong></p></li>
<li><p><strong>Int64</strong></p></li>
<li><p><strong>Int16</strong></p></li>
<li><p><strong>Int8</strong></p></li>
<li><p><strong>Kernel</strong></p></li>
<li><p><strong>Linkage</strong></p></li>
<li><p><strong>Vector16</strong></p></li>
<li><p><strong>GenericPointer</strong></p></li>
<li><p><strong>Groups</strong></p></li>
<li><p><strong>ImageBasic</strong> (for devices supporting <a class="reference internal" href="api.html#ze-device-image-properties-t"><span class="std std-ref">ze_device_image_properties_t</span></a>.supported)</p></li>
<li><p><strong>Float16</strong> (for devices supporting <a class="reference internal" href="api.html#ze-device-module-flags-t"><span class="std std-ref">ZE_DEVICE_MODULE_FLAG_FP16</span></a>)</p></li>
<li><p><strong>Float64</strong> (for devices supporting <a class="reference internal" href="api.html#ze-device-module-flags-t"><span class="std std-ref">ZE_DEVICE_MODULE_FLAG_FP64</span></a>)</p></li>
<li><p><strong>Int64Atomics</strong> (for devices supporting <a class="reference internal" href="api.html#ze-device-module-flags-t"><span class="std std-ref">ZE_DEVICE_MODULE_FLAG_INT64_ATOMICS</span></a>)</p></li>
</ul>
<p>If the ‘oneAPI’ environment supports the <strong>ImageBasic</strong> capability,
then the following capabilities must also be supported:</p>
<ul class="simple">
<li><p><strong>LiteralSampler</strong></p></li>
<li><p><strong>Sampled1D</strong></p></li>
<li><p><strong>Image1D</strong></p></li>
<li><p><strong>SampledBuffer</strong></p></li>
<li><p><strong>ImageBuffer</strong></p></li>
<li><p><strong>ImageReadWrite</strong></p></li>
</ul>
</div>
<div class="section" id="spir-v-1-1">
<h3>SPIR-V 1.1<a class="headerlink" href="#spir-v-1-1" title="Permalink to this headline">¶</a></h3>
<p>An environment supporting SPIR-V 1.1 must support SPIR-V 1.1 modules
that declare the capabilities required for SPIR-V 1.0 modules, above.</p>
<p>SPIR-V 1.1 does not add any new required capabilities.</p>
</div>
<div class="section" id="spir-v-1-2">
<h3>SPIR-V 1.2<a class="headerlink" href="#spir-v-1-2" title="Permalink to this headline">¶</a></h3>
<p>An environment supporting SPIR-V 1.2 must support SPIR-V 1.2 modules
that declare the capabilities required for SPIR-V 1.1 modules, above.</p>
<p>SPIR-V 1.2 does not add any new required capabilities.</p>
</div>
</div>
<div class="section" id="validation-rules">
<h2>Validation Rules<a class="headerlink" href="#validation-rules" title="Permalink to this headline">¶</a></h2>
<p>The following are a list of validation rules that apply to SPIR-V
modules executing in all ‘oneAPI’ Level-Zero environments:</p>
<p>The <em>Execution Model</em> declared in <strong>OpEntryPoint</strong> must be <strong>Kernel</strong>.</p>
<p>The <em>Addressing Model</em> declared in <strong>OpMemoryModel</strong> must
<strong>Physical64</strong>, indicating that device pointers are 64-bits.</p>
<p>The <em>Memory Model</em> declared in <strong>OpMemoryModel</strong> must be <strong>OpenCL</strong>.</p>
<p>For all <strong>OpTypeInt</strong> integer type-declaration instructions:</p>
<ul class="simple">
<li><p><em>Signedness</em> must be 0, indicating no signedness semantics.</p></li>
</ul>
<p>For all <strong>OpTypeImage</strong> type-declaration instructions: * <em>Sampled Type</em>
must be <strong>OpTypeVoid</strong>. * <em>Sampled</em> must be 0, indicating that the
image usage will be known at run time, not at compile time. * <em>MS</em> must
be 0, indicating single-sampled content. * <em>Arrayed</em> may only be set to
1, indicating arrayed content, when <em>Dim</em> is set to <strong>1D</strong> or <strong>2D</strong>. *
<em>Image Format</em> must be <strong>Unknown</strong>, indicating that the image does not
have a specified format. * The optional image <em>Access Qualifier</em> must
be present.</p>
<p>The image write instruction <strong>OpImageWrite</strong> must not include any
optional <em>Image Operands</em>.</p>
<p>The image read instructions <strong>OpImageRead</strong> and
<strong>OpImageSampleExplicitLod</strong> must not include the optional <em>Image
Operand</em> <strong>ConstOffset</strong>.</p>
<p>For all <em>Atomic Instructions</em>:</p>
<ul class="simple">
<li><p>32-bit integer types are supported for the <em>Result Type</em> and/or type
of <em>Value</em>. 64-bit integer types are optionally supported for the
<em>Result Type</em> and/or type of <em>Value</em> for devices supporting
<a class="reference internal" href="api.html#ze-device-module-flags-t"><span class="std std-ref">ZE_DEVICE_MODULE_FLAG_INT64_ATOMICS</span></a>.</p></li>
<li><p>The <em>Pointer</em> operand must be a pointer to the <strong>Function</strong>,
<strong>Workgroup</strong>, <strong>CrossWorkGroup</strong>, or <strong>Generic</strong> <em>Storage Classes</em>.</p></li>
</ul>
<p>Recursion is not supported. The static function call graph for an entry
point must not contain cycles.</p>
<p>Whether irreducible control flow is legal is implementation defined.</p>
<p>For the instructions <strong>OpGroupAsyncCopy</strong> and <strong>OpGroupWaitEvents</strong>,
<em>Scope</em> for <em>Execution</em> must be:</p>
<ul class="simple">
<li><p><strong>Workgroup</strong></p></li>
</ul>
<p>For all other instructions, <em>Scope</em> for <em>Execution</em> must be one of:</p>
<ul class="simple">
<li><p><strong>Workgroup</strong></p></li>
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p><em>Scope</em> for <em>Memory</em> must be one of:</p>
<ul class="simple">
<li><p><strong>CrossDevice</strong></p></li>
<li><p><strong>Device</strong></p></li>
<li><p><strong>Workgroup</strong></p></li>
<li><p><strong>Invocation</strong></p></li>
<li><p><strong>Subgroup</strong></p></li>
</ul>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="#extensions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="intel-subgroups">
<h3>Intel Subgroups<a class="headerlink" href="#intel-subgroups" title="Permalink to this headline">¶</a></h3>
<p>‘oneAPI’ Level-Zero API environments must accept SPIR-V modules that
declare use of the <code class="docutils literal notranslate"><span class="pre">SPV_INTEL_subgroups</span></code> extension via
<strong>OpExtension</strong>.</p>
<p>When use of the <code class="docutils literal notranslate"><span class="pre">SPV_INTEL_subgroups</span></code> extension is declared in the
module via <strong>OpExtension</strong>, the environment must accept modules that
declare the following SPIR-V capabilities:</p>
<ul class="simple">
<li><p><strong>SubgroupShuffleINTEL</strong></p></li>
<li><p><strong>SubgroupBufferBlockIOINTEL</strong></p></li>
<li><p><strong>SubgroupImageBlockIOINTEL</strong></p></li>
</ul>
<p>The environment must accept the following types for <em>Data</em> for the
<strong>SubgroupShuffleINTEL</strong> instructions:</p>
<ul class="simple">
<li><p>Scalars and <strong>OpTypeVectors</strong> with 2, 4, 8, or 16 <em>Component Count</em>
components of the following <em>Component Type</em> types:</p>
<ul>
<li><p><strong>OpTypeFloat</strong> with a <em>Width</em> of 32 bits (<code class="docutils literal notranslate"><span class="pre">float</span></code>)</p></li>
<li><p><strong>OpTypeInt</strong> with a <em>Width</em> of 8 bits and <em>Signedness</em> of 0
(<code class="docutils literal notranslate"><span class="pre">char</span></code> and <code class="docutils literal notranslate"><span class="pre">uchar</span></code>)</p></li>
<li><p><strong>OpTypeInt</strong> with a <em>Width</em> of 16 bits and <em>Signedness</em> of 0
(<code class="docutils literal notranslate"><span class="pre">short</span></code> and <code class="docutils literal notranslate"><span class="pre">ushort</span></code>)</p></li>
<li><p><strong>OpTypeInt</strong> with a <em>Width</em> of 32 bits and <em>Signedness</em> of 0
(<code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">uint</span></code>)</p></li>
</ul>
</li>
<li><p>Scalars of <strong>OpTypeInt</strong> with a <em>Width</em> of 64 bits and <em>Signedness</em>
of 0 (<code class="docutils literal notranslate"><span class="pre">long</span></code> and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
</ul>
<p>Additionally, if the <strong>Float16</strong> capability is declared and supported:</p>
<ul class="simple">
<li><p>Scalars of <strong>OpTypeFloat</strong> with a <em>Width</em> of 16 bits (<code class="docutils literal notranslate"><span class="pre">half</span></code>)</p></li>
</ul>
<p>Additionally, if the <strong>Float64</strong> capability is declared and supported:</p>
<ul class="simple">
<li><p>Scalars of <strong>OpTypeFloat</strong> with a <em>Width</em> of 64 bits (<code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
<p>The environment must accept the following types for <em>Result</em> and <em>Data</em>
for the <strong>SubgroupBufferBlockIOINTEL</strong> and <strong>SubgroupImageBlockIOINTEL</strong>
instructions:</p>
<ul class="simple">
<li><p>Scalars and <strong>OpTypeVectors</strong> with 2, 4, or 8 <em>Component Count</em>
components of the following <em>Component Type</em> types:</p>
<ul>
<li><p><strong>OpTypeInt</strong> with a <em>Width</em> of 32 bits and <em>Signedness</em> of 0
(<code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">uint</span></code>)</p></li>
<li><p><strong>OpTypeInt</strong> with a <em>Width</em> of 16 bits and <em>Signedness</em> of 0
(<code class="docutils literal notranslate"><span class="pre">short</span></code> and <code class="docutils literal notranslate"><span class="pre">ushort</span></code>)</p></li>
</ul>
</li>
</ul>
<p>For <em>Ptr</em>, valid <em>Storage Classes</em> are:</p>
<ul class="simple">
<li><p><strong>CrossWorkGroup</strong> (<code class="docutils literal notranslate"><span class="pre">global</span></code>)</p></li>
</ul>
<p>For <em>Image</em>:</p>
<ul class="simple">
<li><p><em>Dim</em> must be <em>2D</em></p></li>
<li><p><em>Depth</em> must be 0 (not a depth image)</p></li>
<li><p><em>Arrayed</em> must be 0 (non-arrayed content)</p></li>
<li><p><em>MS</em> must be 0 (single-sampled content)</p></li>
</ul>
<p>For <em>Coordinate</em>, the following types are supported:</p>
<ul class="simple">
<li><p><strong>OpTypeVectors</strong> with two <em>Component Count</em> components of <em>Component
Type</em> <strong>OpTypeInt</strong> with a <em>Width</em> of 32 bits and <em>Signedness</em> of 0
(<code class="docutils literal notranslate"><span class="pre">int2</span></code>)</p></li>
</ul>
<div class="section" id="notes-and-restrictions">
<h4>Notes and Restrictions<a class="headerlink" href="#notes-and-restrictions" title="Permalink to this headline">¶</a></h4>
<p>The <strong>SubgroupShuffleINTEL</strong> instructions may be placed within
non-uniform control flow and hence do not have to be encountered by all
invocations in the subgroup, however <em>Data</em> may only be shuffled among
invocations encountering the <strong>SubgroupShuffleINTEL</strong> instruction.
Shuffling <em>Data</em> from an invocation that does not encounter the
<strong>SubgroupShuffleINTEL</strong> instruction will produce undefined results.</p>
<p>There is no defined behavior for out-of-range shuffle indices for the
<strong>SubgroupShuffleINTEL</strong> instructions.</p>
<p>The <strong>SubgroupBufferBlockIOINTEL</strong> and <strong>SubgroupImageBlockIOINTEL</strong>
instructions are only guaranteed to work correctly if placed strictly
within uniform control flow within the subgroup. This ensures that if
any invocation executes it, all invocations will execute it. If placed
elsewhere, behavior is undefined.</p>
<p>There is no defined out-of-range behavior for the
<strong>SubgroupBufferBlockIOINTEL</strong> instructions.</p>
<p>The <strong>SubgroupImageBlockIOINTEL</strong> instructions do support bounds
checking, however they bounds-check to the image width in units of
<code class="docutils literal notranslate"><span class="pre">uints</span></code>, not in units of image elements. This means:</p>
<ul class="simple">
<li><p>If the image has an <em>Image Format</em> size equal to the size of a
<code class="docutils literal notranslate"><span class="pre">uint</span></code> (four bytes, for example <strong>Rgba8</strong>), the image will be
correctly bounds-checked. In this case, out-of-bounds reads will
return the edge image element (the equivalent of <strong>ClampToEdge</strong>),
and out-of-bounds writes will be ignored.</p></li>
<li><p>If the image has an <em>Image Format</em> size less than the size of a
<code class="docutils literal notranslate"><span class="pre">uint</span></code> (such as <strong>R8</strong>), the entire image is addressable, however
bounds checking will occur too late. For this reason, extra care
should be taken to avoid out-of-bounds reads and writes, since
out-of-bounds reads may return invalid data and out-of-bounds writes
may corrupt other images or buffers unpredictably.</p></li>
</ul>
<p>The following restrictions apply to the <strong>SubgroupBufferBlockIOINTEL</strong>
instructions:</p>
<ul class="simple">
<li><p>The pointer <em>Ptr</em> must be 32-bit (4-byte) aligned for reads, and must
be 128-bit (16-byte) aligned for writes.</p></li>
</ul>
<p>The following restrictions apply to the <strong>SubgroupImageBlockIOINTEL</strong>
instructions:</p>
<ul class="simple">
<li><p>The behavior of the <strong>SubgroupImageBlockIOINTEL</strong> instructions is
undefined for images with an element size greater than four bytes
(such as <strong>Rgba32f</strong>).</p></li>
</ul>
<p>The following restrictions apply to the
<strong>OpSubgroupImageBlockWriteINTEL</strong> instruction:</p>
<ul class="simple">
<li><p>Unlike the image block read instruction, which may read from any
arbitrary byte offset, the x-component of the byte coordinate for the
image block write instruction must be a multiple of four; in other
words, the write must begin at a 32-bit boundary. There is no
restriction on the y-component of the coordinate.</p></li>
</ul>
</div>
</div>
<div class="section" id="floating-point-atomics">
<h3>Floating-Point Atomics<a class="headerlink" href="#floating-point-atomics" title="Permalink to this headline">¶</a></h3>
<p>‘oneAPI’ Level-Zero API environments supporting the extension
<strong>ZE_extension_float_atomics</strong> must support additional atomic instructions, capabilities, and types.</p>
<div class="section" id="atomic-load-store-and-exchange">
<h4>Atomic Load, Store, and Exchange<a class="headerlink" href="#atomic-load-store-and-exchange" title="Permalink to this headline">¶</a></h4>
<p>If the ‘oneAPI’ Level-Zero API environment supports the extension <strong>ZE_extension_float_atomics</strong> and <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_LOAD_STORE</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_LOAD_STORE</span></a>, then for the <strong>Atomic Instructions</strong> <strong>OpAtomicLoad</strong>, <strong>OpAtomicStore</strong>, and <strong>OpAtomicExchange</strong>:</p>
<ul class="simple">
<li><p>16-bit floating-point types are supported for the <em>Result Type</em> and type of
<em>Value</em>.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_LOAD_STORE</span></a>, the <em>Pointer</em> operand may be a pointer to the <strong>CrossWorkGroup</strong> <em>Storage Class</em>.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_LOAD_STORE</span></a>, the <em>Pointer</em> operand may be a pointer to the <strong>Workgroup</strong> <em>Storage Class</em>.</p></li>
</ul>
</div>
<div class="section" id="atomic-add-and-subtract">
<h4>Atomic Add and Subtract<a class="headerlink" href="#atomic-add-and-subtract" title="Permalink to this headline">¶</a></h4>
<p>If the ‘oneAPI’ Level-Zero API environment supports the extension <strong>ZE_extension_float_atomics</strong> and <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags, <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags, or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags include <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_ADD</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_ADD</span></a>, then the environment must accept modules that declare use of the extensions <code class="docutils literal notranslate"><span class="pre">SPV_EXT_shader_atomic_float_add</span></code> and <code class="docutils literal notranslate"><span class="pre">SPV_EXT_shader_atomic_float16_add</span></code>.
Additionally:</p>
<ul class="simple">
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_ADD</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_ADD</span></a>, the <strong>AtomicFloat16AddEXT</strong> capability must be supported.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_ADD</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_ADD</span></a>, the <strong>AtomicFloat32AddEXT</strong> capability must be supported.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_ADD</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_ADD</span></a>, the <strong>AtomicFloat64AddEXT</strong> capability must be supported.</p></li>
<li><p>For the <strong>Atomic Instruction</strong> <strong>OpAtomicFAddEXT</strong> added by these extensions:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags, <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags, or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_ADD</span></a>, the <em>Pointer</em> operand may be a pointer to the <strong>CrossWorkGroup</strong> <em>Storage Class</em>.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags, <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags, or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_ADD</span></a>, the <em>Pointer</em> operand may be a pointer to the <strong>Workgroup</strong> <em>Storage Class</em>.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="atomic-min-and-max">
<h4>Atomic Min and Max<a class="headerlink" href="#atomic-min-and-max" title="Permalink to this headline">¶</a></h4>
<p>If the ‘oneAPI’ Level-Zero API environment supports the extension <strong>ZE_extension_float_atomics</strong> and the <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags, <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags, or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags bitfields include <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_MIN_MAX</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_MIN_MAX</span></a>, then the environment must accept modules that declare use of the extension <code class="docutils literal notranslate"><span class="pre">SPV_EXT_shader_atomic_float_min_max</span></code>.
Additionally:</p>
<ul class="simple">
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_MIN_MAX</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_MIN_MAX</span></a>, the <strong>AtomicFloat32MinMaxEXT</strong> capability must be supported.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_MIN_MAX</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_MIN_MAX</span></a>, the <strong>AtomicFloat64MinMaxEXT</strong> capability must be supported.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_MIN_MAX</span></a> or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_MIN_MAX</span></a>, the <strong>AtomicFloat16MinMaxEXT</strong> capability must be supported.</p></li>
<li><p>For the <strong>Atomic Instructions</strong> <strong>OpAtomicFMinEXT</strong> and <strong>OpAtomicFMaxEXT</strong> added by this extension:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags, <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags, or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_GLOBAL_MIN_MAX</span></a> , the <em>Pointer</em> operand may be a pointer to the <strong>CrossWorkGroup</strong> <em>Storage Class</em>.</p></li>
<li><p>When <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp16Flags, <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp32Flags, or <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ze_device_fp_atomic_ext_flags_t</span></a>.fp64Flags includes <a class="reference internal" href="api.html#ze-device-fp-atomic-ext-flags-t"><span class="std std-ref">ZE_DEVICE_FP_ATOMIC_EXT_FLAG_LOCAL_MIN_MAX</span></a>, the <em>Pointer</em> operand may be a pointer to the <strong>Workgroup</strong> <em>Storage Class</em>.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="extended-subgroups">
<h3>Extended Subgroups<a class="headerlink" href="#extended-subgroups" title="Permalink to this headline">¶</a></h3>
<p>‘oneAPI’ Level-Zero API environments supporting the extension
<strong>ZE_extension_subgroups</strong> must support additional subgroup instructions, capabilities, and types.</p>
<div class="section" id="extended-types">
<h4>Extended Types<a class="headerlink" href="#extended-types" title="Permalink to this headline">¶</a></h4>
<p>The following Groups instructions must be supported with <em>Scope</em> for <em>Execution</em>
equal to <strong>Subgroup</strong>:</p>
<ul class="simple">
<li><p><strong>OpGroupBroadcast</strong></p></li>
<li><p><strong>OpGroupIAdd</strong>, <strong>OpGroupFAdd</strong></p></li>
<li><p><strong>OpGroupSMin</strong>, <strong>OpGroupUMin</strong>, <strong>OpGroupFMin</strong></p></li>
<li><p><strong>OpGroupSMax</strong>, <strong>OpGroupUMax</strong>, <strong>OpGroupFMax</strong></p></li>
</ul>
<p>For these instructions, valid types for <em>Value</em> are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
<p>Additionally, for <strong>OpGroupBroadcast</strong>, valid types for <em>Value</em> are:</p>
<ul class="simple">
<li><p><strong>OpTypeVectors</strong> with 2, 3, 4, 8, or 16 Component Count components of
supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">charn</span></code>, <code class="docutils literal notranslate"><span class="pre">ucharn</span></code>, <code class="docutils literal notranslate"><span class="pre">shortn</span></code>,
<code class="docutils literal notranslate"><span class="pre">ushortn</span></code>, <code class="docutils literal notranslate"><span class="pre">intn</span></code>, <code class="docutils literal notranslate"><span class="pre">uintn</span></code>, <code class="docutils literal notranslate"><span class="pre">longn</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulongn</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">halfn</span></code>, <code class="docutils literal notranslate"><span class="pre">floatn</span></code>, and <code class="docutils literal notranslate"><span class="pre">doublen</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="vote">
<h4>Vote<a class="headerlink" href="#vote" title="Permalink to this headline">¶</a></h4>
<p>The following capabilities must be supported:</p>
<ul class="simple">
<li><p><strong>GroupNonUniform</strong></p></li>
<li><p><strong>GroupNonUniformVote</strong></p></li>
</ul>
<p>For instructions requiring these capabilities, <em>Scope</em> for <em>Execution</em> may be:</p>
<ul class="simple">
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p>For the instruction <strong>OpGroupNonUniformAllEqual</strong>, valid types for <em>Value</em> are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="ballot">
<h4>Ballot<a class="headerlink" href="#ballot" title="Permalink to this headline">¶</a></h4>
<p>The following capabilities must be supported:</p>
<ul class="simple">
<li><p><strong>GroupNonUniformBallot</strong></p></li>
</ul>
<p>For instructions requiring these capabilities, <em>Scope</em> for <em>Execution</em> may be:</p>
<ul class="simple">
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p>For the non-uniform broadcast instruction <strong>OpGroupNonUniformBroadcast</strong>, valid
types for <em>Value</em> are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p><strong>OpTypeVectors</strong> with 2, 3, 4, 8, or 16 Component Count components of
supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">charn</span></code>, <code class="docutils literal notranslate"><span class="pre">ucharn</span></code>, <code class="docutils literal notranslate"><span class="pre">shortn</span></code>,
<code class="docutils literal notranslate"><span class="pre">ushortn</span></code>, <code class="docutils literal notranslate"><span class="pre">intn</span></code>, <code class="docutils literal notranslate"><span class="pre">uintn</span></code>, <code class="docutils literal notranslate"><span class="pre">longn</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulongn</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">halfn</span></code>, <code class="docutils literal notranslate"><span class="pre">floatn</span></code>, and <code class="docutils literal notranslate"><span class="pre">doublen</span></code>)</p></li>
</ul>
</div></blockquote>
<p>For the instruction <strong>OpGroupNonUniformBroadcastFirst</strong>, valid types for <em>Value</em> are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
<p>For the instruction <strong>OpGroupNonUniformBallot</strong>, the valid Result Type is an
OpTypeVector with four Component Count components of <strong>OpTypeInt</strong>, with <em>Width</em>
equal to 32 and <em>Signedness</em> equal to 0 (equivalent to <code class="docutils literal notranslate"><span class="pre">uint4</span></code>).</p>
<p>For the instructions <strong>OpGroupNonUniformInverseBallot</strong>,
<strong>OpGroupNonUniformBallotBitExtract</strong>, <strong>OpGroupNonUniformBallotBitCount</strong>,
<strong>OpGroupNonUniformBallotFindLSB</strong>, and <strong>OpGroupNonUniformBallotFindMSB</strong>, the
valid type for <em>Value</em> is an <strong>OpTypeVector</strong> with four <em>Component Count</em>
components of <strong>OpTypeInt</strong>, with <em>Width</em> equal to 32 and <em>Signedness</em> equal to
0 (equivalent to uint4).</p>
<p>For built-in variables decorated with <strong>SubgroupEqMask</strong>, <strong>SubgroupGeMask</strong>,
<strong>SubgroupGtMask</strong>, <strong>SubgroupLeMask</strong>, or <strong>SubgroupLtMask</strong>, the supported
variable type is an <strong>OpTypeVector</strong> with four <em>Component Count</em> components of
<strong>OpTypeInt</strong>, with <em>Width</em> equal to 32 and <em>Signedness</em> equal to 0 (equivalent
to <code class="docutils literal notranslate"><span class="pre">uint4</span></code>).</p>
</div>
<div class="section" id="non-uniform-arithmetic">
<h4>Non-Uniform Arithmetic<a class="headerlink" href="#non-uniform-arithmetic" title="Permalink to this headline">¶</a></h4>
<p>The following capabilities must be supported:</p>
<ul class="simple">
<li><p><strong>GroupNonUniformArithmetic</strong></p></li>
</ul>
<p>For instructions requiring these capabilities, <em>Scope</em> for <em>Execution</em> may be:</p>
<ul class="simple">
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p>For the instructions <strong>OpGroupNonUniformLogicalAnd</strong>,
<strong>OpGroupNonUniformLogicalOr</strong>, and <strong>OpGroupNonUniformLogicalXor</strong>, the valid
type for <em>Value</em> is <strong>OpTypeBool</strong>.</p>
<p>Otherwise, for the <strong>GroupNonUniformArithmetic</strong> scan and reduction
instructions, valid types for <em>Value</em> are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
<p>For the <strong>GroupNonUniformArithmetic</strong> scan and reduction instructions, the
optional <em>ClusterSize</em> operand must not be present.</p>
</div>
<div class="section" id="shuffles">
<h4>Shuffles<a class="headerlink" href="#shuffles" title="Permalink to this headline">¶</a></h4>
<p>The following capabilities must be supported:</p>
<ul class="simple">
<li><p><strong>GroupNonUniformShuffle</strong></p></li>
</ul>
<p>For instructions requiring these capabilities, <em>Scope</em> for <em>Execution</em> may be:</p>
<ul class="simple">
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p>For the instructions <strong>OpGroupNonUniformShuffle</strong> and
<strong>OpGroupNonUniformShuffleXor</strong> requiring these capabilities, valid types for
<em>Value</em> are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="relative-shuffles">
<h4>Relative Shuffles<a class="headerlink" href="#relative-shuffles" title="Permalink to this headline">¶</a></h4>
<p>The following capabilities must be supported:</p>
<ul class="simple">
<li><p><strong>GroupNonUniformShuffleRelative</strong></p></li>
</ul>
<p>For instructions requiring these capabilities, <em>Scope</em> for <em>Execution</em> may be:</p>
<ul class="simple">
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p>For the <strong>GroupNonUniformShuffleRelative</strong> instructions, valid types for <em>Value</em>
are:</p>
<ul class="simple">
<li><p>Scalars of supported types:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpTypeInt</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">char</span></code>, <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">short</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>,
<code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">long</span></code>, and <code class="docutils literal notranslate"><span class="pre">ulong</span></code>)</p></li>
<li><p><strong>OpTypeFloat</strong> (equivalent to <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, and <code class="docutils literal notranslate"><span class="pre">double</span></code>)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="clustered-reductions">
<h4>Clustered Reductions<a class="headerlink" href="#clustered-reductions" title="Permalink to this headline">¶</a></h4>
<p>The following capabilities must be supported:</p>
<ul class="simple">
<li><p><strong>GroupNonUniformClustered</strong></p></li>
</ul>
<p>For instructions requiring these capabilities, <em>Scope</em> for <em>Execution</em> may be:</p>
<ul class="simple">
<li><p><strong>Subgroup</strong></p></li>
</ul>
<p>When the <strong>GroupNonUniformClustered</strong> capability is declared, the
<strong>GroupNonUniformArithmetic</strong> scan and reduction instructions may include the
optional <em>ClusterSize</em> operand.</p>
</div>
</div>
<div class="section" id="linkonce-odr">
<h3>Linkonce ODR<a class="headerlink" href="#linkonce-odr" title="Permalink to this headline">¶</a></h3>
<p>‘oneAPI’ Level-Zero API environments supporting the extension
<strong>ZE_extension_linkonce_odr</strong> must must accept SPIR-V modules that declare use of the <code class="docutils literal notranslate"><span class="pre">SPV_KHR_linkonce_odr</span></code> extension via <strong>OpExtension</strong>.</p>
<p>When use of the <code class="docutils literal notranslate"><span class="pre">SPV_KHR_linkonce_odr</span></code> extension is declared in the
module via <strong>OpExtension</strong>, the environment must accept modules that
include the <strong>LinkOnceODR</strong> linkage type.</p>
</div>
<div class="section" id="bfloat16-conversions">
<h3>Bfloat16 Conversions<a class="headerlink" href="#bfloat16-conversions" title="Permalink to this headline">¶</a></h3>
<p>‘oneAPI’ Level-Zero API environments supporting the extension
<strong>ZE_extension_bfloat16_conversions</strong> must must accept SPIR-V modules that declare use of the <code class="docutils literal notranslate"><span class="pre">SPV_INTEL_bloat16_conversion</span></code> extension via <strong>OpExtension</strong>.</p>
<p>When use of the <code class="docutils literal notranslate"><span class="pre">SPV_INTEL_bloat16_conversion</span></code> extension is declared in the
module via <strong>OpExtension</strong>, the environment must accept modules that
declare the <strong>Bfloat16ConversionINTEL</strong> capability.</p>
<p>For the instructions <strong>OpConvertFToBF16INTEL</strong> and <strong>OpConvertBF16ToFINTEL</strong>
added by the extension:</p>
<ul class="simple">
<li><p>Valid types for <em>Result Type</em>, <em>Float Value</em>, and <em>Bfloat16 Value</em> are Scalars
and <strong>OpTypeVectors</strong> with 2, 3, 4, 8, or 16 <em>Component Count</em> components</p></li>
</ul>
</div>
</div>
<div class="section" id="numerical-compliance">
<h2>Numerical Compliance<a class="headerlink" href="#numerical-compliance" title="Permalink to this headline">¶</a></h2>
<p>The ‘oneAPI’ Level-Zero environment will meet or exceed the numerical
compliance requirements defined in the OpenCL SPIR-V Environment
Specification. See: <a class="reference external" href="https://www.khronos.org/registry/OpenCL/specs/2.2/html/OpenCL_Env.html#numerical_compliance">Numerical
Compliance</a>.</p>
</div>
<div class="section" id="image-addressing-and-filtering">
<h2>Image Addressing and Filtering<a class="headerlink" href="#image-addressing-and-filtering" title="Permalink to this headline">¶</a></h2>
<p>The ‘oneAPI’ Level-Zero environment image addressing and filtering
behavior is compatible with the behavior defined in the OpenCL SPIR-V
Environment Specification. See: <a class="reference external" href="https://www.khronos.org/registry/OpenCL/specs/2.2/html/OpenCL_Env.html#image_addressing_and_filtering">Image Addressing and
Filtering</a>.</p>
</div>
</div>


              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../sysman/PROG.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Sysman Programming Guide</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="EXT.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Extensions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Intel<br/>
    
        &copy; Copyright 2022, Intel.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>